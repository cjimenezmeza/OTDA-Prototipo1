<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Centro Documental del Observatorio Turístico</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        
        .container {
            display: flex;
            height: 100vh;
        }
        .sidebar {
            width: 25%;
            padding: 10px;
            border-right: 1px solid #5a045a;
            overflow-y: auto;
        }
        .main-content {
            width: 75%;
            padding: 10px;
            overflow-y: auto;
        }
        .menu {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f0f0f0;
            border-bottom: 1px solid #ccc;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .menu a {
            text-decoration: none;
            color: #333;
            padding: 10px;
        }
        .menu a:hover {
            background-color: #ddd;
        }
        .print-icon {
            cursor: pointer;
        }
        .section {
            margin-bottom: 20px;
        }
        #rss-feed {
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="menu">
        <a href="#cargar">Cargar Tesis</a>
        <a href="#visualizar">Visualizar Tesis</a>
        <a href="#busqueda">Búsqueda Avanzada</a>
        <img src="print-icon.png" alt="Imprimir" class="print-icon" onclick="window.print()">
    </div>
    <div class="container">
        <div class="sidebar">
            <h2>Noticias del Turismo</h2>
            <ul id="rss-feed" class="list-group"></ul>
        </div>
        <div class="main-content">
            <div id="cargar" class="section">
                <h2>Cargar Tesis</h2>
                <p>Formulario para cargar tesis...</p>
            </div>
            <div id="visualizar" class="section">
                <h2>Visualizar Tesis</h2>
                <p>Opciones para visualizar tesis...</p>
            </div>
            <div id="busqueda" class="section">
                <h2>Búsqueda Avanzada</h2>
                <p>Herramienta de búsqueda avanzada...</p>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        function translateText(text, callback) {
            $.ajax({
                url: 'https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=es&dt=t&q=' + encodeURIComponent(text),
                method: 'GET',
                success: function(data) {
                    callback(data[0][0][0]);
                }
            });
        }

        $(document).ready(function() {
            function loadRSS() {
                $.ajax({
                    url: 'https://api.rss2json.com/v1/api.json?rss_url=https://news.google.com/rss/search?q=Tourism&hl=es&gl=ES&ceid=ES:es',
                    method: 'GET',
                    dataType: 'json',
                    success: function(data) {
                        var $rssFeed = $('#rss-feed');
                        $rssFeed.empty();
                        data.items.forEach(function(item) {
                            var image = item.enclosure ? '<img src="' + item.enclosure.link + '" class="img-fluid" alt="Imagen de la noticia">' : '';
                            translateText(item.title, function(translatedTitle) {
                                translateText(item.description, function(translatedDescription) {
                                    var listItem = '<li class="list-group-item">' +
                                                    image +
                                                    '<h5><a href="' + item.link + '" target="_blank">' + translatedTitle + '</a></h5>' +
                                                    '<p>' + translatedDescription + '</p>' +
                                                    '</li>';
                                    $rssFeed.append(listItem);
                                });
                            });
                        });
                    },
                    error: function() {
                        $('#rss-feed').append('<li class="list-group-item">No se pudieron cargar las noticias.</li>');
                    }
                });
            }
            loadRSS();
            setInterval(loadRSS, 300000);
        });
    </script>
</body>
</html>
